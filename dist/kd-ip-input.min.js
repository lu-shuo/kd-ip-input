/*!
 * kd-ip-input v1.0.5
 * (c) 2022 Darren Lu
 * @license ISC
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).kdIpInput=n()}(this,(function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=Function.prototype,e=n.bind,i=n.call,r=e&&e.bind(i,i),o=e?function(t){return t&&r(t)}:function(t){return t&&function(){return i.apply(t,arguments)}},u=o({}.isPrototypeOf),s=function(t){return t&&t.Math==Math&&t},p=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof t&&t)||function(){return this}()||Function("return this")(),a=Function.prototype,l=a.apply,c=a.bind,d=a.call,f="object"==typeof Reflect&&Reflect.apply||(c?d.bind(l):function(){return d.apply(l,arguments)}),h=function(t){return"function"==typeof t},b={},g=function(t){try{return!!t()}catch(t){return!0}},y=!g((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),v=Function.prototype.call,m=v.bind?v.bind(v):function(){return v.apply(v,arguments)},w={},_={}.propertyIsEnumerable,x=Object.getOwnPropertyDescriptor,k=x&&!_.call({1:2},1);w.f=k?function(t){var n=x(this,t);return!!n&&n.enumerable}:_;var P,O,E=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},j=o,S=j({}.toString),C=j("".slice),T=function(t){return C(S(t),8,-1)},L=o,I=g,$=T,B=p.Object,R=L("".split),F=I((function(){return!B("z").propertyIsEnumerable(0)}))?function(t){return"String"==$(t)?R(t,""):B(t)}:B,N=p.TypeError,D=function(t){if(null==t)throw N("Can't call method on "+t);return t},z=F,A=D,M=h,V=function(t){return"object"==typeof t?null!==t:M(t)},U={},Y=U,K=p,W=h,X=function(t){return W(t)?t:void 0},q=function(t,n){return arguments.length<2?X(Y[t])||X(K[t]):Y[t]&&Y[t][n]||K[t]&&K[t][n]},G=p,H=q("navigator","userAgent")||"",J=G.process,Q=G.Deno,Z=J&&J.versions||Q&&Q.version,tt=Z&&Z.v8;tt&&(O=(P=tt.split("."))[0]>0&&P[0]<4?1:+(P[0]+P[1])),!O&&H&&(!(P=H.match(/Edge\/(\d+)/))||P[1]>=74)&&(P=H.match(/Chrome\/(\d+)/))&&(O=+P[1]);var nt=O,et=nt,it=g,rt=!!Object.getOwnPropertySymbols&&!it((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&et&&et<41})),ot=rt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ut=q,st=h,pt=u,at=ot,lt=p.Object,ct=at?function(t){return"symbol"==typeof t}:function(t){var n=ut("Symbol");return st(n)&&pt(n.prototype,lt(t))},dt=p.String,ft=h,ht=function(t){try{return dt(t)}catch(t){return"Object"}},bt=p.TypeError,gt=function(t){if(ft(t))return t;throw bt(ht(t)+" is not a function")},yt=gt,vt=m,mt=h,wt=V,_t=p.TypeError,xt={exports:{}},kt=p,Pt=Object.defineProperty,Ot=function(t,n){try{Pt(kt,t,{value:n,configurable:!0,writable:!0})}catch(e){kt[t]=n}return n},Et="__core-js_shared__",jt=p[Et]||Ot(Et,{});(xt.exports=function(t,n){return jt[t]||(jt[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.20.2",mode:"pure",copyright:"© 2022 Denis Pushkarev (zloirock.ru)"});var St=D,Ct=p.Object,Tt=function(t){return Ct(St(t))},Lt=Tt,It=o({}.hasOwnProperty),$t=Object.hasOwn||function(t,n){return It(Lt(t),n)},Bt=o,Rt=0,Ft=Math.random(),Nt=Bt(1..toString),Dt=p,zt=xt.exports,At=$t,Mt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Nt(++Rt+Ft,36)},Vt=rt,Ut=ot,Yt=zt("wks"),Kt=Dt.Symbol,Wt=Kt&&Kt.for,Xt=Ut?Kt:Kt&&Kt.withoutSetter||Mt,qt=m,Gt=V,Ht=ct,Jt=function(t,n){var e=t[n];return null==e?void 0:yt(e)},Qt=function(t,n){var e,i;if("string"===n&&mt(e=t.toString)&&!wt(i=vt(e,t)))return i;if(mt(e=t.valueOf)&&!wt(i=vt(e,t)))return i;if("string"!==n&&mt(e=t.toString)&&!wt(i=vt(e,t)))return i;throw _t("Can't convert object to primitive value")},Zt=function(t){if(!At(Yt,t)||!Vt&&"string"!=typeof Yt[t]){var n="Symbol."+t;Vt&&At(Kt,t)?Yt[t]=Kt[t]:Yt[t]=Ut&&Wt?Wt(n):Xt(n)}return Yt[t]},tn=p.TypeError,nn=Zt("toPrimitive"),en=function(t,n){if(!Gt(t)||Ht(t))return t;var e,i=Jt(t,nn);if(i){if(void 0===n&&(n="default"),e=qt(i,t,n),!Gt(e)||Ht(e))return e;throw tn("Can't convert object to primitive value")}return void 0===n&&(n="number"),Qt(t,n)},rn=ct,on=function(t){var n=en(t,"string");return rn(n)?n:n+""},un=V,sn=p.document,pn=un(sn)&&un(sn.createElement),an=function(t){return pn?sn.createElement(t):{}},ln=!y&&!g((function(){return 7!=Object.defineProperty(an("div"),"a",{get:function(){return 7}}).a})),cn=y,dn=m,fn=w,hn=E,bn=function(t){return z(A(t))},gn=on,yn=$t,vn=ln,mn=Object.getOwnPropertyDescriptor;b.f=cn?mn:function(t,n){if(t=bn(t),n=gn(n),vn)try{return mn(t,n)}catch(t){}if(yn(t,n))return hn(!dn(fn.f,t,n),t[n])};var wn=g,_n=h,xn=/#|\.prototype\./,kn=function(t,n){var e=On[Pn(t)];return e==jn||e!=En&&(_n(n)?wn(n):!!n)},Pn=kn.normalize=function(t){return String(t).replace(xn,".").toLowerCase()},On=kn.data={},En=kn.NATIVE="N",jn=kn.POLYFILL="P",Sn=kn,Cn=gt,Tn=o(o.bind),Ln={},In=y&&g((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),$n=p,Bn=V,Rn=$n.String,Fn=$n.TypeError,Nn=y,Dn=ln,zn=In,An=function(t){if(Bn(t))return t;throw Fn(Rn(t)+" is not an object")},Mn=on,Vn=p.TypeError,Un=Object.defineProperty,Yn=Object.getOwnPropertyDescriptor,Kn="enumerable",Wn="configurable",Xn="writable";Ln.f=Nn?zn?function(t,n,e){if(An(t),n=Mn(n),An(e),"function"==typeof t&&"prototype"===n&&"value"in e&&Xn in e&&!e.writable){var i=Yn(t,n);i&&i.writable&&(t[n]=e.value,e={configurable:Wn in e?e.configurable:i.configurable,enumerable:Kn in e?e.enumerable:i.enumerable,writable:!1})}return Un(t,n,e)}:Un:function(t,n,e){if(An(t),n=Mn(n),An(e),Dn)try{return Un(t,n,e)}catch(t){}if("get"in e||"set"in e)throw Vn("Accessors not supported");return"value"in e&&(t[n]=e.value),t};var qn=Ln,Gn=E,Hn=y?function(t,n,e){return qn.f(t,n,Gn(1,e))}:function(t,n,e){return t[n]=e,t},Jn=p,Qn=f,Zn=o,te=h,ne=b.f,ee=Sn,ie=U,re=function(t,n){return Cn(t),void 0===n?t:Tn?Tn(t,n):function(){return t.apply(n,arguments)}},oe=Hn,ue=$t,se=function(t){var n=function(e,i,r){if(this instanceof n){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,r)}return Qn(t,this,arguments)};return n.prototype=t.prototype,n},pe=Math.ceil,ae=Math.floor,le=function(t){var n=+t;return n!=n||0===n?0:(n>0?ae:pe)(n)},ce=Math.min,de=function(t){return t>0?ce(le(t),9007199254740991):0},fe=gt,he=Tt,be=F,ge=function(t){return de(t.length)},ye=p.TypeError,ve=function(t){return function(n,e,i,r){fe(e);var o=he(n),u=be(o),s=ge(o),p=t?s-1:0,a=t?-1:1;if(i<2)for(;;){if(p in u){r=u[p],p+=a;break}if(p+=a,t?p<0:s<=p)throw ye("Reduce of empty array with no initial value")}for(;t?p>=0:s>p;p+=a)p in u&&(r=e(r,u[p],p,o));return r}},me={left:ve(!1),right:ve(!0)},we=g,_e="process"==T(p.process),xe=me.left,ke=nt,Pe=_e;(function(t,n){var e,i,r,o,u,s,p,a,l=t.target,c=t.global,d=t.stat,f=t.proto,h=c?Jn:d?Jn[l]:(Jn[l]||{}).prototype,b=c?ie:ie[l]||oe(ie,l,{})[l],g=b.prototype;for(r in n)e=!ee(c?r:l+(d?".":"#")+r,t.forced)&&h&&ue(h,r),u=b[r],e&&(s=t.noTargetGet?(a=ne(h,r))&&a.value:h[r]),o=e&&s?s:n[r],e&&typeof u==typeof o||(p=t.bind&&e?re(o,Jn):t.wrap&&e?se(o):f&&te(o)?Zn(o):o,(t.sham||o&&o.sham||u&&u.sham)&&oe(p,"sham",!0),oe(b,r,p),f&&(ue(ie,i=l+"Prototype")||oe(ie,i,{}),oe(ie[i],r,o),t.real&&g&&!g[r]&&oe(g,r,o)))})({target:"Array",proto:!0,forced:!function(t,n){var e=[][t];return!!e&&we((function(){e.call(null,n||function(){throw 1},1)}))}("reduce")||!Pe&&ke>79&&ke<83},{reduce:function(t){var n=arguments.length;return xe(this,t,n,n>1?arguments[1]:void 0)}});var Oe=U;function Ee(t){var n,e,i,r,o,u={};return t.setSelectionRange?(u.begin=t.selectionStart,u.end=t.selectionEnd,u.result=t.value.substring(u.begin,u.end)):document.selection&&("input"===t.tagName.toLowerCase()?(n=document.selection.createRange(),(e=t.createTextRange()).collapse(!0),e.select(),(i=document.selection.createRange()).setEndPoint("EndToEnd",n),u.begin=i.text.length-n.text.length,u.end=i.text.length,u.result=n.text,n.select()):"textarea"===t.tagName.toLowerCase()&&((o=(r=document.selection.createRange()).duplicate()).moveToElementText(t),o.setEndPoint("EndToEnd",r),u.begin=o.text.length-r.text.length,u.end=o.text.length,u.result=r.text)),t.focus(),u}(function(t){return Oe[t+"Prototype"]})("Array").reduce;var je={name:"kd-ip-input",props:{value:{type:String,required:!0,default:""},prefix:{type:String,validator:function(t){return-1!==["http","https","wss","ws"].indexOf(t)}},showPrefix:{type:Boolean,default:!1},showPort:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},checkEmptyOnBlur:{type:Boolean,default:!1}},data(){return{ipList:this.showPort?["","","","",""]:["","","",""],isEmptyOnBlur:!1}},computed:{liWidth(){return this.showPort?"20%":"25%"}},watch:{value(t){this.init(t)},ipList(t){if(t.every((t=>""===t)))return void this.$emit("input","");let n;const e=t.slice(0,4);n=this.showPrefix&&this.prefix?this.prefix+"://"+e.join("."):e.join("."),n=this.showPort?n+":"+t[4]:n,this.$emit("input",n)}},filters:{prefixFormat:t=>-1===t.indexOf("://")?t+"://":t},mounted(){this.init(this.value)},beforeDestroy(){this.resetField()},methods:{resetField(){this.isEmptyOnBlur=!1},init(t){if(!t)return void(this.ipList=this.showPort?["","","","",""]:["","","",""]);if(4!==t.split(".").length)return void console.error("[kd-ip-input]：ip格式不合法");if(this.showPrefix){if(!this.prefix)return void console.error("[kd-ip-input]：showPrefix模式需指定prefix");-1!==t.indexOf(this.prefix)&&(t=t.split(/(http|https|wss|ws):\/\//).slice(-1)[0].trim())}if(this.showPort){if(-1===t.indexOf(":"))return void console.error("[kd-ip-input]：invalid ip with port(missing colon)");{const n=t.split(":")[1].trim();this.ipList[4]=n,t=t.split(":")[0].trim()}}const n=t.split(".");for(let t=0,e=n.length;t<e;t++){const e=n[t].trim();isNaN(e)||e<0||e>255?(console.info("%c[kd-ip-input]：输入ip范围不合法，已默认恢复至0","color: red"),this.ipList.splice(t,1,"0")):this.ipList.splice(t,1,e)}},genIp(t=!1){const n=this.ipList;let e;if(n.every((t=>""!==t))){t&&(this.isEmptyOnBlur=!1);const i=n.slice(0,4);e=this.showPrefix&&this.prefix?this.prefix+"://"+i.join("."):i.join("."),e=this.showPort?e+":"+n[4]:e}else e="",t&&(this.isEmptyOnBlur=!0);return e},handleInput(t,n){let e=t.target.value;e=e.trim();const i=parseInt(e,10);e=isNaN(i)?"":n<=3?i>255?"255":""+i:i>65535?"65535":""+i,this.$set(this.ipList,n,e),(!this.showPort&&3===e.length&&n<3||this.showPort&&3===e.length&&n<4)&&this.$refs.ipInput[n+1].focus()},handleKeyDown(t,n){const e=t.keyCode,i=t.target.value;8!==e&&37!==e||(0===i.length||0===Ee(t.target).end)&&n>0&&this.$refs.ipInput[n-1].focus(),39===e&&Ee(t.target).end===i.length&&(!this.showPort&&n<3||this.showPort&&n<4)&&this.$refs.ipInput[n+1].focus(),32!==e&&13!==e||!(!this.showPort&&n<3||this.showPort&&n<4)||this.$refs.ipInput[n+1].focus()},handleBlur(){this.$nextTick((()=>{if(-1===document.activeElement.className.indexOf("kd-ip-input-group__input-inner")){this.ipList.some((t=>t||"0"===t))&&this.ipList.forEach(((t,n)=>{""===t&&this.$set(this.ipList,n,"0")}));const t=this.genIp(!0);this.$emit("blur",t)}}))}}};function Se(t,n,e,i,r,o,u,s,p,a){"boolean"!=typeof u&&(p=s,s=u,u=!1);const l="function"==typeof e?e.options:e;let c;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),i&&(l._scopeId=i),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,p(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=c):n&&(c=u?function(t){n.call(this,a(t,this.$root.$options.shadowRoot))}:function(t){n.call(this,s(t))}),c)if(l.functional){const t=l.render;l.render=function(n,e){return c.call(e),t(n,e)}}else{const t=l.beforeCreate;l.beforeCreate=t?[].concat(t,c):[c]}return e}!function(t,n){void 0===n&&(n={});var e=n.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===e&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}('@charset "UTF-8";\n.is-disabled[data-v-bf4b97a0] {\n  background-color: #f5f7fa !important;\n  border-color: #e4e7ed !important;\n  cursor: not-allowed;\n}\n.is-disabled-input[data-v-bf4b97a0] {\n  cursor: not-allowed;\n  color: #c0c4cc !important;\n}\n.is-empty[data-v-bf4b97a0] {\n  border: 1px solid #f56c6c !important;\n}\n.kd-ip-input-group[data-v-bf4b97a0] {\n  line-height: normal;\n  display: inline-table;\n  width: 100%;\n  border-collapse: separate;\n  border-spacing: 0;\n  position: relative;\n  font-size: 14px;\n}\n.kd-ip-input-group .kd-ip-input-group__prepend[data-v-bf4b97a0] {\n  background-color: #f5f7fa;\n  color: #909399;\n  vertical-align: middle;\n  display: table-cell;\n  position: relative;\n  border: 1px solid #dcdfe6;\n  border-radius: 4px;\n  border-right: 0;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  padding: 0 20px;\n  width: 1px;\n  white-space: nowrap;\n}\n.kd-ip-input-group .kd-ip-input-group__input-ul[data-v-bf4b97a0] {\n  width: 100%;\n  height: 32px;\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n  background-color: #fff;\n  background-image: none;\n  border: 1px solid #dcdfe6;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  font-size: inherit;\n  outline: none;\n  transition: border-color 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);\n}\n.kd-ip-input-group .kd-ip-input-group__input-ul .kd-ip-input-group__input-li[data-v-bf4b97a0] {\n  height: 100%;\n  line-height: 100%;\n  list-style: none;\n  position: relative;\n}\n.kd-ip-input-group .kd-ip-input-group__input-ul .kd-ip-input-group__input-li .kd-ip-input-group__dot[data-v-bf4b97a0] {\n  width: 5px;\n  height: 5px;\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  right: 0;\n  border-radius: 50%;\n  background: #dcdfe6;\n}\n.kd-ip-input-group .kd-ip-input-group__input-ul .kd-ip-input-group__input-li .kd-ip-input-group__colon[data-v-bf4b97a0] {\n  width: 5px;\n  height: 15px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-content: center;\n  position: absolute;\n  top: 50%;\n  left: 0;\n  transform: translateY(-50%);\n}\n.kd-ip-input-group .kd-ip-input-group__input-ul .kd-ip-input-group__input-li .kd-ip-input-group__colon .dot[data-v-bf4b97a0] {\n  width: 4px;\n  height: 4px;\n  border-radius: 50%;\n  background: #dcdfe6;\n}\n.kd-ip-input-group .kd-ip-input-group__input-ul .kd-ip-input-group__input-inner[data-v-bf4b97a0] {\n  width: 100%;\n  height: 100%;\n  border: none;\n  color: #606266;\n  text-align: center;\n  background: transparent;\n}\n.kd-ip-input-group .kd-ip-input-group__input-ul .kd-ip-input-group__input-inner[data-v-bf4b97a0]:focus {\n  outline: none;\n  /*取消掉默认的input focus状态*/\n}');const Ce=je;var Te=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"kd-ip-input-group"},[t.showPrefix?e("div",{staticClass:"kd-ip-input-group__prepend"},[t._v(t._s(t._f("prefixFormat")(t.prefix)))]):t._e(),t._v(" "),e("ul",{staticClass:"kd-ip-input-group__input-ul",class:{"is-empty":t.checkEmptyOnBlur&&t.isEmptyOnBlur}},t._l(t.ipList,(function(n,i){return e("li",{key:i,staticClass:"kd-ip-input-group__input-li",class:{"is-disabled":t.disabled},style:{width:t.liWidth}},[e("input",{ref:"ipInput",refInFor:!0,staticClass:"kd-ip-input-group__input-inner",class:{"is-disabled-input":t.disabled},attrs:{placeholder:"",autocomplete:"off",disabled:t.disabled},domProps:{value:n},on:{input:function(n){return t.handleInput(n,i)},keydown:function(n){return t.handleKeyDown(n,i)},blur:function(n){return t.handleBlur(n,i)}}}),t._v(" "),i<3?e("div",{staticClass:"kd-ip-input-group__dot"}):t._e(),t._v(" "),5===t.ipList.length&&4===i?e("div",{staticClass:"kd-ip-input-group__colon"},[e("div",{staticClass:"dot"}),t._v(" "),e("div",{staticClass:"dot"})]):t._e()])})),0)])};Te._withStripped=!0;const Le=Se({render:Te,staticRenderFns:[]},undefined,Ce,"data-v-bf4b97a0",false,undefined,!1,void 0,void 0,void 0);var Ie=function(t){t.component(Le.name,Le)};return"undefined"!=typeof window&&window.Vue&&Ie(window.Vue),Ie}));
